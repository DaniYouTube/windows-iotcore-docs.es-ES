---
title: Capturar seguimientos de Fiddler
author: saraclay
ms.author: saclayt
ms.date: 08/28/2017
ms.topic: article
description: Obtenga información sobre cómo usar Fiddler para capturar seguimientos de Fiddler en Windows IoT Core.
keywords: seguimientos de Fiddler PuTTY, de Windows iot, Fiddler, seguimientos,
ms.openlocfilehash: b8bf4fa6390aad9640ad9139a8a164a9c83fcff5
ms.sourcegitcommit: ef85ccba54b1118d49554e88768240020ff514b0
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/11/2019
ms.locfileid: "59514744"
---
# <a name="capturing-fiddler-traces-on-windows-iot-core"></a><span data-ttu-id="fe697-104">Capturar seguimientos de Fiddler en Windows IoT Core</span><span class="sxs-lookup"><span data-stu-id="fe697-104">Capturing Fiddler Traces on Windows IoT Core</span></span>

<span data-ttu-id="fe697-105">Fiddler es una herramienta para depurar el tráfico web.</span><span class="sxs-lookup"><span data-stu-id="fe697-105">Fiddler is a tool for debugging web traffic.</span></span> <span data-ttu-id="fe697-106">Es especialmente útil porque puede personalizarlo para necesidades específicas mediante extensiones y complementos, y la herramienta proporciona mucha información útil específico para el tráfico web.</span><span class="sxs-lookup"><span data-stu-id="fe697-106">It's particularly helpful because you can customize it for specific needs using extensions and add-ons, and the tool provides a lot of useful information specific to web traffic.</span></span>

## <a name="assumptions"></a><span data-ttu-id="fe697-107">Suposiciones</span><span class="sxs-lookup"><span data-stu-id="fe697-107">Assumptions</span></span> 

* <span data-ttu-id="fe697-108">Tiene [PuTTY](http://www.putty.org/) en el cuadro de desarrollo o una alternativa de SSH</span><span class="sxs-lookup"><span data-stu-id="fe697-108">You have [PuTTY](http://www.putty.org/) on your developer box or an alternative for SSH</span></span>
* <span data-ttu-id="fe697-109">Las instrucciones siguientes dan por hecho de una máquina virtual principal de IoT, pero funcionará en *cualquier* dispositivo de IoT Core</span><span class="sxs-lookup"><span data-stu-id="fe697-109">The instructions below make the assumption of a IoT Core VM but will work on *any* IoT Core device</span></span>

## <a name="initial-setup"></a><span data-ttu-id="fe697-110">Instalación inicial</span><span class="sxs-lookup"><span data-stu-id="fe697-110">Initial Setup</span></span>

1. <span data-ttu-id="fe697-111">Descargue e instale la versión más reciente de [Fiddler](http://www.telerik.com/fiddler/) en el cuadro de desarrollo si todavía no</span><span class="sxs-lookup"><span data-stu-id="fe697-111">Download and install the latest version of [Fiddler](http://www.telerik.com/fiddler/) on your developer box if you haven't already</span></span>
2. <span data-ttu-id="fe697-112">Inicie Fiddler y realice las siguientes actualizaciones de configuración en _Herramientas -> Opciones de Telerik Fiddler -> HTTPS_ ficha</span><span class="sxs-lookup"><span data-stu-id="fe697-112">Start Fiddler and make the following setting updates under _Tools -> Telerik Fiddler Options -> HTTPS_ tab</span></span>
    * <span data-ttu-id="fe697-113">Comprobar _Capture HTTPS CONNECTs_</span><span class="sxs-lookup"><span data-stu-id="fe697-113">Check _Capture HTTPS CONNECTs_</span></span>
    * <span data-ttu-id="fe697-114">Comprobar _descifrar tráfico HTTPS -> de todos los procesos_</span><span class="sxs-lookup"><span data-stu-id="fe697-114">Check _Decrypt HTTPS Traffic -> from all processes_</span></span>
    * <span data-ttu-id="fe697-115">Haga clic en el vínculo 'Certificados generan por' y seleccione _MakeCert motor_ (recomendación: Reiniciar Fiddler para que este cambio surta efecto)</span><span class="sxs-lookup"><span data-stu-id="fe697-115">Click on the 'Certificates generated by' link and select _MakeCert engine_ (Recommendation: Restart Fiddler for this change to take effect)</span></span>
    * <span data-ttu-id="fe697-116">A continuación, exporte el archivo FiddlerRoot.cer a través de _acciones -> Exportar certificado raíz para escritorio_</span><span class="sxs-lookup"><span data-stu-id="fe697-116">Next, export the FiddlerRoot.cer file via _Actions -> Export Root Certificate To Desktop_</span></span>
3. <span data-ttu-id="fe697-117">Realice las siguientes actualizaciones de configuración en _Herramientas -> Opciones de Telerik Fiddler -> conexiones_ pestaña:</span><span class="sxs-lookup"><span data-stu-id="fe697-117">Make the following setting updates under _Tools -> Telerik Fiddler Options -> Connections_ tab:</span></span>
    * <span data-ttu-id="fe697-118">Configurar Fiddler para que actúe como un proxy del sistema activando _permitir que los equipos remotos a Connect_</span><span class="sxs-lookup"><span data-stu-id="fe697-118">Setup Fiddler to act as a system proxy by checking _Allow Remote Computers to Connect_</span></span>
    * <span data-ttu-id="fe697-119">_Fiddler escucha en el puerto_ debe establecerse en _8888_</span><span class="sxs-lookup"><span data-stu-id="fe697-119">_Fiddler listens on port_ should be set to _8888_</span></span>
  
<span data-ttu-id="fe697-120">Nota: Debe reiniciar Fiddler después de esto y acepta cualquier solicitud de UAC.</span><span class="sxs-lookup"><span data-stu-id="fe697-120">Note: You should restart Fiddler after this and accept any UAC prompt.</span></span>

## <a name="transfer-and-import-fiddler-root-certificate"></a><span data-ttu-id="fe697-121">Transferir e importar el certificado raíz de Fiddler</span><span class="sxs-lookup"><span data-stu-id="fe697-121">Transfer and Import Fiddler Root Certificate</span></span>
<span data-ttu-id="fe697-122">Deberá importar el certificado de raíz de Fiddler para su dispositivo o una imagen de IoT con el fin de depurar el enrutamiento del tráfico https a través de su PC.</span><span class="sxs-lookup"><span data-stu-id="fe697-122">You'll need to import the Fiddler root certificate to your IoT image or device in order to debug https traffic routing through your PC.</span></span>  <span data-ttu-id="fe697-123">Para ello:</span><span class="sxs-lookup"><span data-stu-id="fe697-123">To do this:</span></span>

1. <span data-ttu-id="fe697-124">Monte el archivo de disco duro virtual (haga clic con el botón derecho en el disco duro virtual y elija _montar_) o conectarse al dispositivo de IoT mediante PuTTY (o cliente SSH alternativo)</span><span class="sxs-lookup"><span data-stu-id="fe697-124">Mount the VHD file (right click on the VHD and choose _mount_) or connect to your IoT device via PuTTY (or alternative SSH client)</span></span>
2. <span data-ttu-id="fe697-125">Vaya a la partición mainOS y crear un _probar_ carpeta raíz (a través de SSH, use _md c:\test_)</span><span class="sxs-lookup"><span data-stu-id="fe697-125">Browse to the mainOS partition and create a _test_ folder at root (via SSH, use _md c:\test_)</span></span>
3. <span data-ttu-id="fe697-126">Copiar FiddlerRoot.cer ha generado anteriormente (debe estar en el escritorio de forma predeterminada) en la ubicación de carpeta de prueba</span><span class="sxs-lookup"><span data-stu-id="fe697-126">Copy FiddlerRoot.cer you generated above (should be on your desktop by default) to the test folder location</span></span>
4. <span data-ttu-id="fe697-127">Si usa un disco duro virtual, desmontarla por cualquiera de las unidades montadas expulsar y, a continuación, iniciar la máquina virtual principal de IoT a través de Hyper-v</span><span class="sxs-lookup"><span data-stu-id="fe697-127">If using a VHD, unmount it by ejecting any of the mounted drives and then start the IoT Core VM via HyperV</span></span>
5. <span data-ttu-id="fe697-128">Iniciar un [sesión SSH](../connect-your-device/ssh.md) e inicie sesión como administrador</span><span class="sxs-lookup"><span data-stu-id="fe697-128">Start an [SSH session](../connect-your-device/ssh.md) and login as administrator</span></span> 
6. <span data-ttu-id="fe697-129">Navegue al directorio c:\test en la sesión SSH</span><span class="sxs-lookup"><span data-stu-id="fe697-129">Navigate to c:\test directory in your SSH session</span></span>
7. <span data-ttu-id="fe697-130">Importar el certificado de raíz de Fiddler a través del comando:</span><span class="sxs-lookup"><span data-stu-id="fe697-130">Import Fiddler Root Certificate via command:</span></span>
    * `certmgr -add FiddlerRoot.cer -r localmachine -s root`
8. <span data-ttu-id="fe697-131">Cerrar sesión SSH</span><span class="sxs-lookup"><span data-stu-id="fe697-131">Close SSH session</span></span>


## <a name="setup-proxy-on-vm-or-iot-core-device"></a><span data-ttu-id="fe697-132">Configuración de Proxy en la máquina virtual o el dispositivo de IoT Core</span><span class="sxs-lookup"><span data-stu-id="fe697-132">Setup Proxy on VM or IoT Core Device</span></span>
<span data-ttu-id="fe697-133">Los pasos siguientes permitirá a su dispositivo para enrutar el tráfico a través de su PC o IoT VM para que Fiddler puede capturar el tráfico de red para el análisis:</span><span class="sxs-lookup"><span data-stu-id="fe697-133">The steps below will allow your IoT VM or device to route traffic through your PC so that Fiddler can capture network traffic for analysis:</span></span>

1. <span data-ttu-id="fe697-134">Determinar la dirección IP de la máquina de desarrollo mediante una consola CMD mediante _ipconfig_</span><span class="sxs-lookup"><span data-stu-id="fe697-134">Determine the IP of your development machine using a CMD console via _ipconfig_</span></span>
2. <span data-ttu-id="fe697-135">Iniciar una nueva sesión SSH y esta vez, inicie sesión como defaultUser (nombre de usuario: _DefaultAccount_ Pwd: _[en blanco]_ )</span><span class="sxs-lookup"><span data-stu-id="fe697-135">Start a new SSH session and this time, login as defaultUser (Username: _DefaultAccount_  Pwd: _[blank]_ )</span></span>
3. <span data-ttu-id="fe697-136">Establecer al proxy a través de los siguientes comandos:</span><span class="sxs-lookup"><span data-stu-id="fe697-136">Set the proxy via the following commands:</span></span>
    * `reg add "hkcu\Software\Microsoft\Windows\CurrentVersion\Internet Settings" /v ProxyEnable /t REG_DWORD /d 1`
    * `reg add "hkcu\Software\Microsoft\Windows\CurrentVersion\Internet Settings" /v ProxyServer /t REG_SZ /d [PC IP address]:8888`

<span data-ttu-id="fe697-137">Si no se está ejecutando, inicie Fiddler en su PC, reinicie el dispositivo de la máquina virtual o IoT Core y ahora se debería enrutar el tráfico a través de Fiddler.</span><span class="sxs-lookup"><span data-stu-id="fe697-137">If not already running, start Fiddler on your PC, restart your VM or IoT Core device and traffic should now be routed through Fiddler.</span></span> 

<span data-ttu-id="fe697-138">Nota: Si ve CONNECT en Fiddler, pero ningún dato de https, el certificado era probable que no está instalado correctamente.</span><span class="sxs-lookup"><span data-stu-id="fe697-138">Note: If you see https CONNECT in Fiddler but no data, the certificate was likely not installed correctly.</span></span> <span data-ttu-id="fe697-139">Asegúrese de que no se haya olvidado el _transferencia y el certificado raíz de importación Fiddler_ pasos anteriores.</span><span class="sxs-lookup"><span data-stu-id="fe697-139">Make sure you didn't miss the _Transfer and Import Fiddler Root Certificate_ steps above.</span></span>

<span data-ttu-id="fe697-140">Adicionalmente, si desea activar al proxy tenga en cuenta que se almacene en caché las claves del registro anterior en un blob binario de otra clave de interrupción.</span><span class="sxs-lookup"><span data-stu-id="fe697-140">Additonally, if you wish to turn the proxy back off note that the above reg keys get cached in a binary blob in another key.</span></span> <span data-ttu-id="fe697-141">por lo tanto, además de quitar las claves que acaba de agregar en el paso 3 anterior, también deben hacer:</span><span class="sxs-lookup"><span data-stu-id="fe697-141">so, in addition to removing the keys just added in step 3 above you also need to do:</span></span>

    reg delete "hkcu\Software\Microsoft\Windows\CurrentVersion\Internet Settings\Connections"
    
    
